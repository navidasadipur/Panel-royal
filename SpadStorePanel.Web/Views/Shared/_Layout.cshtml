<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="~/Content/client/images/mainlogo.png" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/animate.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/chosen.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/pe-icon-7-stroke.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/jquery.scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/lightbox.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/magnific-popup.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/slick.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/fonts/flaticon.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/megamenu.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/dreaming-attribute.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/mylightbox.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/client/css/style.css" />
    <title>رویال </title>
</head>
<body style="background-color: #add6dc;">


    @Html.Action("Navbar", "Home")
    @RenderBody()
    <!-- footer -->
    @Html.Action("Footer", "Home")


    <a href="#" class="backtotop active">
        <i class="fa fa-angle-up"></i>
    </a>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/jqueryval")

    <script src="~/Content/client/js/jquery-1.12.4.min.js"></script>
    <script src="~/Content/client/js/bootstrap.min.js"></script>
    <script src="~/Content/client/js/chosen.min.js"></script>
    <script src="~/Content/client/js/countdown.min.js"></script>
    <script src="~/Content/client/js/jquery.scrollbar.min.js"></script>
    <script src="~/Content/client/js/lightbox.min.js"></script>
    <script src="~/Content/client/js/magnific-popup.min.js"></script>
    <script src="~/Content/client/js/slick.js"></script>
    <script src="~/Content/client/js/jquery.zoom.min.js"></script>
    <script src="~/Content/client/js/threesixty.min.js"></script>
    <script src="~/Content/client/js/jquery-ui.min.js"></script>
    <script src="~/Content/client/js/mobilemenu.js"></script>
    <script src="~/Content/client/js/mylightbox.js"></script>

    <script src="~/Content/client/js/functions.js"></script>

    @RenderSection("scripts", required: false)

    <script>

        $(document).ready(function () {
            new WOW().init();

        });

        var compareList = [];

        function AddToCompareList(id) {
            if (!compareList.includes(id)) {
                var t = ".compare_" + id;
                $(t).css("color", "red");

                if (compareList.length < 5) {
                    compareList.push(id);


                    if (compareList.length != 0) {
                        $("#compare").show();
                        $("#compare").text("مقایسه" + "(" + compareList.length + ")");
                    }
                    else {
                        $("#compare").hide();
                        $("#compare").text("مقایسه");
                    }
                }
                else {
                    alert("لیست مقایسه بیشتر از 4 مورد است");
                }
            }
            else {
                compareList.pop(id);
                var t = ".compare_" + id;
                $(t).css("color", "white");
                if (compareList.length != 0) {
                    $("#compare").show();
                    $("#compare").text("مقایسه" + "(" + compareList.length + ")");
                }
                else {
                    $("#compare").hide();
                    $("#compare").text("مقایسه");
                }
            }
        }


        $("#compare").click(function () {
            var items = "";
            for (var i = 0; i < compareList.length; i++) {
                if (i == compareList.length - 1) {
                    items += compareList[i];
                }
                else {
                    items += compareList[i] + "-";
                }
            }
            window.location.href = "/Shop/Compare?CompareList=" + items;
        });



        if (window.location.pathname == "/" || window.location.pathname.toLowerCase() == "/home/index" || window.location.pathname.toLowerCase() == "/home") {
            $("body").addClass("theme-3");
        }

        GetWishList();

        function wish(id) {
            var t = ".product_" + id;

            if ($(t).css("color") == "rgb(255, 0, 0)") {
                removeFromWishList(id);
            }
            else {
                AddToWishList(id);
            }
        }

        function AddToWishList(id) {
            $("#loading").show();
            $.ajax({
                type: 'POST',
                url: '/Cookie/AddToWishList?productId=' + id,
                success: function (data) {
                    GetWishList();
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
                complete: function () {
                    $("#loading").fadeOut(1000);
                }
            });
        }


        function removeFromWishList(id) {
            $("#loading").show();
            $.ajax({
                type: 'POST',
                url: '/Cookie/RemoveFromWishList?productId=' + id,
                success: function (data) {
                    var t = ".product_" + id;
                    $(t).css("color", "white");
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
                complete: function () {
                    $("#loading").fadeOut(1000);
                }
            });
        }

        function GetWishList() {
            $.ajax({
                type: 'GET',
                url: '/Cookie/WishListTable',
                success: function (data) {
                    var obj = JSON.parse(data);
                    console.log(obj);
                    for (var i = 0; i < obj.WishListItems.length; i++) {
                        var t = ".product_" + obj.WishListItems[i].Id;
                        $(t).css("color", "red");
                    }
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
                complete: function () {
                }
            });
        }

        function AddToCart(id, mainFeature) {
            $("#preloader").show();
            var mainFeatureId = null;
            if (mainFeature != null) {
                mainFeatureId = mainFeature;
            }
            if (mainFeatureId === null) {
                $.ajax({
                    type: 'POST',
                    url: '/Cookie/AddToCart?productId=' + id,
                    success: function (data) {
                        GetCart();
                    },
                    error: function (data) {
                        console.log("error");
                        console.log(data);
                    },
                    complete: function () {
                        $("#preloader").fadeOut(1000);
                    }
                });
            } else {
                $.ajax({
                    type: 'POST',
                    url: '/Cookie/AddToCart?productId=' + id + '&mainFeatureId=' + mainFeatureId,
                    success: function (data) {
                        GetCart();
                    },
                    error: function (data) {
                        console.log("error");
                        console.log(data);
                    },
                    complete: function () {
                        $("#preloader").fadeOut(1000);
                    }
                });
            }
        }


        function GetCart() {
            $.ajax({
                type: 'GET',
                url: '/Cookie/CartSection',
                success: function (data) {
                    $("#cartSection").html(data);
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
                complete: function () {
                }
            });
            if ($("#CartTable") !== undefined) {
                $.ajax({
                    type: 'GET',
                    url: '/Cookie/CartTable',
                    success: function (data) {
                        $("#CartTable").html(data);
                    },
                    error: function (data) {
                        console.log("error");
                        console.log(data);
                    },
                    complete: function () {
                    }
                });
            }
        }

        function RemoveFromCart(id, mainFeatureId, complete) {
            $("#preloader").show();
            $.ajax({
                type: 'POST',
                url: '/Cookie/RemoveFromCart?productId=' + id + '&mainFeatureId=' + mainFeatureId + '&complete=' + complete,
                success: function (data) {
                    GetCart();
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
                complete: function () {
                    $("#preloader").fadeOut(1000);
                }
            });
        }


        function GetPopup(id) {
            $("#preloader").show();
            $.ajax({
                type: 'Get',
                url: '/Shop/PopupData/' + id,
                success: function (data) {
                    $(".pop").html(data);
                    $(".pop").removeClass("mfp-hide");
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);
                },
                complete: function () {
                    $("#preloader").fadeOut(1000);
                }
            });
        }
    </script>

</body>
</html>

@*<!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>@ViewBag.Title - My ASP.NET Application</title>
        @Styles.Render("~/Content/css")
        @Scripts.Render("~/bundles/modernizr")

        This bundle was moved by the Telerik VS Extensions for compatibility reasons
        <link href="@Url.Content("~/Content/kendo/2020.1.114/kendo.common-material.min.css")" rel="stylesheet" type="text/css" />
        <link href="~/Content/kendo/2020.1.114/kendo.material.mobile.min.css" rel="stylesheet" />
        <link href="@Url.Content("~/Content/kendo/2020.1.114/kendo.material.min.css")" rel="stylesheet" type="text/css" />
        <link href="@Url.Content("~/Content/kendo/2020.1.114/kendo.rtl.min.css")" rel="stylesheet" type="text/css" />
        <script src="@Url.Content("~/Scripts/kendo/2020.1.114/jquery.min.js")"></script>
        <script src="@Url.Content("~/Scripts/kendo/2020.1.114/jszip.min.js")"></script>
        <script src="@Url.Content("~/Scripts/kendo/2020.1.114/kendo.all.min.js")"></script>
        <script src="@Url.Content("~/Scripts/kendo/2020.1.114/kendo.aspnetmvc.min.js")"></script>
        <script src="@Url.Content("~/Scripts/bootstrap.min.js")"></script>

        <script src="@Url.Content("~/Scripts/kendo.modernizr.custom.js")"></script>
        <script src="/Scripts/kendo/2020.1.114/JalaliDate.js"></script>
        <script src="/Scripts/kendo/2020.1.114/kendo.web.js"></script>
        <script src="/Scripts/kendo/2020.1.114/fa-IR.js"></script>
        <script src="/Scripts/kendo/2020.1.114/kendo.calendar.fa.js"></script>
        <script src="/Scripts/kendo/2020.1.114/kendo.datepicker.fa.js"></script>
    </head>
    <body class="k-rtl">
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    @Html.ActionLink("Application name", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li>@Html.ActionLink("Home", "Index", "Home")</li>
                        <li>@Html.ActionLink("About", "About", "Home")</li>
                        <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
                    </ul>
                    @Html.Partial("_LoginPartial")
                </div>
            </div>
        </div>
        <div class="container body-content">
            @RenderBody()
            <hr />
            <footer>
                <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
            </footer>
        </div>


        @Scripts.Render("~/bundles/bootstrap")
        @RenderSection("scripts", required: false)
    </body>
    </html>*@
